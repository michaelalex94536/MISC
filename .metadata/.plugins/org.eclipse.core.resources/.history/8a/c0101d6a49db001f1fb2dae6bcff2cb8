/**
 ******************************************************************************
*
*
*
*		Project:	F407_RNG_NoHAL



 *
 ******************************************************************************
 */
#define STM32F407xx
#include "stm32f4xx.h"
#include <stdint.h>



int main(void)
{

	uint32_t random_number;


	RCC->CR |= RCC_CR_PLLON; //turn on the PLL


	while((RCC->CR & RCC_CR_PLLRDY) == 0); //wait until PLL is active



	RCC->AHB2ENR |= RCC_AHB2ENR_RNGEN;	// Enable AHB2 clock


	RNG->CR |= RNG_CR_RNGEN;				// Enable the random number generator



	while(1)		// When new data is available, grab it.
	{
		while((RNG->SR & RNG_SR_DRDY) == 0);
		random_number = RNG->DR;
	}

}
